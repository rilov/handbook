<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Scaling Your API: Part 2 - Design & Architecture</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="/handbook/assets/img/logo.svg" type="image/svg+xml">
    <link rel="stylesheet" href="/handbook/assets/css/style.css">
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <div class="site-brand">
          <a href="/handbook/" class="brand-link">
            <img src="/handbook/assets/img/logo.svg" alt="Handbook logo" width="36" height="36" />
          </a>
          <div>
            <h1><a href="/handbook/">Handbook</a></h1>
            <p class="site-desc">Quick tech ticks and comparisons</p>
          </div>
        </div>
        <nav class="site-nav" aria-label="Main">
          <a href="/handbook/">Home</a>
          <a href="/handbook/#categories">Categories</a>
          <a href="/handbook/about">About</a>
          <a href="https://github.com/rilov" target="_blank" rel="noopener">GitHub</a>
        </nav>
      </div>
    </header>

    <main class="container">
      <article class="topic">
  <header>
    <nav class="breadcrumb small">
      <a href="/handbook/">Home</a> &mdash;
      <a href="/handbook/categories/architecture">Architecture</a> &mdash;
    </nav>
    <h2>Scaling Your API: Part 2 - Design & Architecture</h2>
    
      
      <p class="meta">Category: <a href="/handbook/categories/architecture">Architecture</a></p>
    
  </header>

  <section class="topic-body">
    <blockquote>
  <p><strong>üìö This is Part 2 of the ‚ÄúScaling Your API‚Äù Series</strong></p>
  <ul>
    <li><strong><a href="/handbook/handbook/_topics/scaling-api-1-to-1-million-rps/">Part 1: Performance &amp; Infrastructure ‚Üê</a></strong> - How to handle more users and traffic</li>
    <li><strong>Part 2 (this page):</strong> Design &amp; Architecture - How to organize teams and design better systems</li>
    <li><strong><a href="/handbook/handbook/_topics/choosing-the-right-database/">Part 3: Choosing the Right Database ‚Üí</a></strong> - Database selection for your API</li>
    <li><strong><a href="/handbook/handbook/_topics/scaling-api-load-balancing-part-4/">Part 4: Load Balancing &amp; High Availability ‚Üí</a></strong> - Keeping your API always available</li>
    <li><strong><a href="/handbook/handbook/_topics/scaling-api-monitoring-part-5/">Part 5: Monitoring &amp; Performance ‚Üí</a></strong> - Tracking and improving API performance</li>
  </ul>
</blockquote>

<hr />

<h2 id="what-this-guide-is-about">What This Guide Is About</h2>

<p>In <a href="/handbook/handbook/_topics/scaling-api-1-to-1-million-rps/">Part 1</a>, we talked about how to make your systems handle more users‚Äîlike adding more servers and making things faster.</p>

<p>But there‚Äôs another challenge: <strong>how do you organize hundreds of people and keep everything working together smoothly?</strong></p>

<p>When companies like PayPal, Amazon, or Netflix grow, their biggest challenge isn‚Äôt just handling traffic. It‚Äôs making sure that:</p>
<ul>
  <li>Hundreds of teams can work without stepping on each other‚Äôs toes</li>
  <li>Everything still works together seamlessly</li>
  <li>Customers get a simple, consistent experience</li>
</ul>

<p>This guide shares 10 practical strategies that big companies use. Don‚Äôt worry‚Äîwe‚Äôll explain everything in simple terms!</p>

<div class="mermaid">
flowchart LR
    subgraph part1["Part 1: Technical Stuff"]
        direction TB
        T1["Handle more users"]
        T2["Make things faster"]
        T3["Add more servers"]
    end
    
    subgraph part2["Part 2: People &amp; Organization"]
        direction TB
        D1["Coordinate teams"]
        D2["Keep things consistent"]
        D3["Let teams work independently"]
    end
    
    part1 -.-&gt;|You are here| part2
    
    style part1 fill:#e0e7ff,stroke:#6366f1
    style part2 fill:#d1fae5,stroke:#059669
</div>

<hr />

<h2 id="the-big-picture-from-one-system-to-many-small-ones">The Big Picture: From One System to Many Small Ones</h2>

<h3 id="the-problem-with-one-big-system">The Problem with One Big System</h3>

<p>Imagine your entire company‚Äôs software is like one giant machine. Everything is connected to everything else.</p>

<p><strong>What goes wrong:</strong></p>
<ul>
  <li>When you want to change one part, you might break other parts</li>
  <li>Everyone has to coordinate on every change</li>
  <li>It takes forever to make updates</li>
  <li>If one thing breaks, everything breaks</li>
</ul>

<div class="mermaid">
flowchart TD
    subgraph monolith["üè¢ One Big System"]
        direction TB
        A["Everything in one place"]
        B["Everyone touches the same code"]
        C["All data mixed together"]
        D["Hard to change anything"]
    end
    
    subgraph problems["‚ùå Problems This Creates"]
        direction TB
        P1["Slow to make changes"]
        P2["Teams get in each other's way"]
        P3["Can't update parts independently"]
        P4["Stuck with old technology"]
    end
    
    monolith --&gt; problems
    
    style monolith fill:#fecaca,stroke:#dc2626
    style problems fill:#fef3c7,stroke:#d97706
</div>

<h3 id="the-solution-break-it-into-smaller-pieces">The Solution: Break It Into Smaller Pieces</h3>

<p>Instead of one giant system, break it into smaller, independent pieces. Each piece handles one job:</p>
<ul>
  <li>One piece handles user accounts</li>
  <li>Another handles payments</li>
  <li>Another handles orders</li>
  <li>Another sends emails</li>
</ul>

<p><strong>Why this helps:</strong></p>
<ul>
  <li>Each team can work on their piece without bothering others</li>
  <li>You can update one piece without touching the rest</li>
  <li>If one piece breaks, the others keep working</li>
  <li>Teams can choose the best tools for their specific job</li>
</ul>

<div class="mermaid">
flowchart TB
    subgraph microservices["‚úÖ Many Small Pieces"]
        direction LR
        S1["üë• User Accounts"]
        S2["üí≥ Payments"]
        S3["üì¶ Orders"]
        S4["üìß Emails"]
    end
    
    G["‚öñÔ∏è Main Entry Point"] --&gt; S1
    G --&gt; S2
    G --&gt; S3
    G --&gt; S4
    
    style G fill:#dbeafe,stroke:#2563eb
    style S1 fill:#d1fae5,stroke:#059669
    style S2 fill:#d1fae5,stroke:#059669
    style S3 fill:#d1fae5,stroke:#059669
    style S4 fill:#d1fae5,stroke:#059669
</div>

<p><strong>But now you have a new challenge</strong>: With hundreds of small pieces, how do you keep everything organized and consistent?</p>

<p>Let‚Äôs look at 10 strategies that solve this.</p>

<hr />

<h2 id="strategy-1-manage-your-apis-like-an-investment-portfolio">Strategy 1: Manage Your APIs Like an Investment Portfolio</h2>

<h3 id="what-this-means">What This Means</h3>

<p>Think about how investment firms manage money. They don‚Äôt just buy random stocks. They look at their entire portfolio and make strategic decisions:</p>
<ul>
  <li>Which investments are most important?</li>
  <li>Which ones aren‚Äôt performing well?</li>
  <li>Where should we focus our resources?</li>
</ul>

<p>Do the same with your APIs (the connections between your systems).</p>

<div class="mermaid">
flowchart LR
    subgraph traditional["‚ùå Random Approach"]
        direction TB
        A1["API 1"]
        A2["API 2"]
        A3["API 3"]
        A4["API 4"]
        Note1["Each team builds whatever"]
    end
    
    subgraph portfolio["‚úÖ Strategic Approach"]
        direction TB
        M["üìä Portfolio Manager"]
        M --&gt; B1["Core Business APIs<br />(Most Important)"]
        M --&gt; B2["Supporting APIs<br />(Nice to Have)"]
        M --&gt; B3["Old APIs<br />(Plan to Retire)"]
        Note2["Organized and strategic"]
    end
    
    style traditional fill:#fecaca,stroke:#dc2626
    style portfolio fill:#d1fae5,stroke:#059669
</div>

<h3 id="why-this-matters">Why This Matters</h3>

<p><strong>Without portfolio thinking:</strong></p>
<ul>
  <li>Three different teams might all build a ‚Äúuser login‚Äù system because no one knows the others are doing it</li>
  <li>You spend equal effort on everything, even unimportant stuff</li>
  <li>Old, broken systems stick around forever because no one plans to replace them</li>
</ul>

<p><strong>With portfolio thinking:</strong></p>
<ul>
  <li>You can see when teams are duplicating work and combine efforts</li>
  <li>You focus your best people on the most important systems</li>
  <li>You have a plan to retire old systems properly</li>
</ul>

<h3 id="real-life-example">Real-Life Example</h3>

<p><strong>Think about it like managing a store:</strong></p>

<p>Bad way: Every department orders whatever they want. You end up with 5 different cash register systems because no one coordinated.</p>

<p>Good way: One person oversees all systems, makes sure departments share what makes sense, and plans upgrades systematically.</p>

<hr />

<h2 id="strategy-2-design-for-customers-not-your-company-structure">Strategy 2: Design for Customers, Not Your Company Structure</h2>

<h3 id="the-problem">The Problem</h3>

<p>Most companies accidentally build systems that reflect their org chart instead of what customers actually want.</p>

<p><strong>Example:</strong>
If you have separate teams for ‚ÄúUser Management,‚Äù ‚ÄúPayments,‚Äù and ‚ÄúOrders,‚Äù you might build three separate systems that customers have to deal with individually.</p>

<p>But customers don‚Äôt care about your team structure! They just want to ‚Äúbuy something.‚Äù</p>

<div class="mermaid">
flowchart TD
    subgraph bad["‚ùå Reflects Your Org Chart"]
        direction TB
        C1["Call User Team API"]
        C2["Call Payment Team API"]
        C3["Call Order Team API"]
        Note1["Customer sees your internal mess"]
    end
    
    subgraph good["‚úÖ Reflects Customer Need"]
        direction TB
        I1["I want to checkout"]
        I2["Show me my orders"]
        Note2["Simple and focused on what customer wants"]
    end
    
    Customer["üë§ Customer"] --&gt; good
    Customer -.-&gt;|Not this| bad
    
    style bad fill:#fecaca,stroke:#dc2626
    style good fill:#d1fae5,stroke:#059669
</div>

<h3 id="how-to-fix-it">How to Fix It</h3>

<p><strong>Design your systems around what customers want to do, not how your company is organized.</strong></p>

<p><strong>Example: Buying Something Online</strong></p>

<p>Bad approach (org-chart focused):</p>
<ul>
  <li>Customer calls ‚Äúuser-team/check-if-user-valid‚Äù</li>
  <li>Then calls ‚Äúinventory-team/check-stock‚Äù</li>
  <li>Then calls ‚Äúpayment-team/process-card‚Äù</li>
  <li>Then calls ‚Äúorder-team/create-order‚Äù</li>
  <li>Then calls ‚Äúnotification-team/send-email‚Äù</li>
</ul>

<p>Good approach (customer focused):</p>
<ul>
  <li>Customer says ‚Äúcheckout‚Äù with all their information</li>
  <li>Behind the scenes, your system coordinates all those teams</li>
  <li>Customer only sees one simple action</li>
</ul>

<h3 id="real-life-example-1">Real-Life Example</h3>

<p><strong>Think about ordering at a restaurant:</strong></p>

<p>Bad way: You have to go separately to the meat counter, vegetable stand, and baker, then assemble your meal yourself.</p>

<p>Good way: You tell the waiter what you want. They coordinate with everyone in the kitchen. You just get your meal.</p>

<p>Your systems should be the waiter, not force customers to be the restaurant manager.</p>

<hr />

<h2 id="strategy-3-speak-two-languagesbusiness-and-technical">Strategy 3: Speak Two Languages‚ÄîBusiness and Technical</h2>

<h3 id="the-challenge">The Challenge</h3>

<p>Your systems serve two very different audiences:</p>

<p><strong>Business people think about:</strong></p>
<ul>
  <li>‚ÄúCan we accept payments in Europe?‚Äù</li>
  <li>‚ÄúCan customers track their shipments?‚Äù</li>
  <li>‚ÄúWhat‚Äôs the cost per transaction?‚Äù</li>
</ul>

<p><strong>Technical people think about:</strong></p>
<ul>
  <li>‚ÄúWhat data format does this use?‚Äù</li>
  <li>‚ÄúHow do we call this system?‚Äù</li>
  <li>‚ÄúWhat happens if it fails?‚Äù</li>
</ul>

<div class="mermaid">
flowchart LR
    subgraph business["üéØ Business People"]
        direction TB
        B1["Think about: What can we do?"]
        B2["'Can we process payments?'"]
        B3["'Can customers track orders?'"]
    end
    
    subgraph devs["üë©‚Äçüíª Technical People"]
        direction TB
        D1["Think about: How does it work?"]
        D2["'What's the data structure?'"]
        D3["'How do we handle errors?'"]
    end
    
    API["üîå Your System"] --&gt; business
    API --&gt; devs
    
    style business fill:#fef3c7,stroke:#d97706
    style devs fill:#dbeafe,stroke:#2563eb
</div>

<h3 id="the-solution">The Solution</h3>

<p>Create two different explanations of the same system:</p>

<p><strong>For business stakeholders:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Payment Processing System

What it does: Let customers pay with credit cards and digital wallets

Business value:
- Accept payments in 50+ countries
- Support 15+ payment methods
- Secure and compliant with regulations
- Works 99.99% of the time

Cost: $0.02 per transaction plus 2.9%
</code></pre></div></div>

<p><strong>For technical teams:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Payment API

Endpoint: POST /payments

Send this data:
- Amount (number)
- Currency (USD, EUR, etc.)
- Payment method token
- Customer ID

You'll get back:
- Payment ID
- Status (succeeded/failed)
- Timestamp
</code></pre></div></div>

<h3 id="real-life-example-2">Real-Life Example</h3>

<p><strong>Think about buying a car:</strong></p>

<p>Salesperson talks about: Safety, comfort, fun to drive, looks nice</p>

<p>Mechanic talks about: Engine size, horsepower, transmission type, fuel efficiency</p>

<p>Both are talking about the same car, just in ways that matter to different people.</p>

<hr />

<h2 id="strategy-4-design-first-build-second">Strategy 4: Design First, Build Second</h2>

<h3 id="the-old-way-build-first">The Old Way (Build First)</h3>

<p>Most teams jump straight into building:</p>

<ol>
  <li>Team starts writing code</li>
  <li>Spends weeks building the system</li>
  <li>Finally shows it to users</li>
  <li>Users say ‚ÄúThis doesn‚Äôt work for us!‚Äù</li>
  <li>Team has to rebuild everything (expensive and slow!)</li>
</ol>

<div class="mermaid">
sequenceDiagram
    participant T as Your Team
    participant C as Code
    participant U as Users
    
    T-&gt;&gt;C: Start building
    C-&gt;&gt;C: Build for weeks
    C-&gt;&gt;U: Here is what we made
    U--&gt;&gt;T: This does not solve our problem
    T-&gt;&gt;C: Start over
    
    Note over T,U: Feedback comes too late

</div>

<h3 id="the-better-way-design-first">The Better Way (Design First)</h3>

<p>Create a detailed plan and fake version first:</p>

<ol>
  <li>Team designs what the system will do (on paper)</li>
  <li>Creates a fake version users can try</li>
  <li>Gets feedback quickly (cheap to change!)</li>
  <li>Improves the design based on feedback</li>
  <li>Only then starts building the real thing</li>
</ol>

<div class="mermaid">
sequenceDiagram
    participant T as Your Team
    participant D as Design Plan
    participant U as Users
    participant C as Code
    
    T-&gt;&gt;D: Create design
    D-&gt;&gt;U: Try this fake version
    U-&gt;&gt;D: Feedback easy to change
    D-&gt;&gt;U: Here is improved version
    Note over T,U: Feedback comes early
    D-&gt;&gt;C: Now build the real thing

</div>

<h3 id="why-this-is-better">Why This Is Better</h3>

<table>
  <thead>
    <tr>
      <th>Aspect</th>
      <th>Build First</th>
      <th>Design First</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>When you get feedback</strong></td>
      <td>After weeks of work</td>
      <td>Within days</td>
    </tr>
    <tr>
      <td><strong>Cost of making changes</strong></td>
      <td>Very expensive (rebuild)</td>
      <td>Very cheap (change the plan)</td>
    </tr>
    <tr>
      <td><strong>Can other teams start working?</strong></td>
      <td>No, must wait</td>
      <td>Yes, against the fake version</td>
    </tr>
    <tr>
      <td><strong>Documentation</strong></td>
      <td>Usually incomplete</td>
      <td>Automatically created</td>
    </tr>
  </tbody>
</table>

<h3 id="real-life-example-3">Real-Life Example</h3>

<p><strong>Think about building a house:</strong></p>

<p>Bad way: Start construction, build for months, then show the owner. They hate the kitchen layout. Now you have to tear down walls.</p>

<p>Good way: Show the owner blueprints and a 3D model. They want changes? Just redraw. Much cheaper than rebuilding!</p>

<hr />

<h2 id="strategy-5-keep-the-complexity-hidden">Strategy 5: Keep the Complexity Hidden</h2>

<h3 id="the-problem-showing-too-much">The Problem: Showing Too Much</h3>

<p>Too often, systems expose all their internal messy details to users.</p>

<p><strong>Bad example - exposing internal mess:</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/database-sync/users</code></li>
  <li><code class="language-plaintext highlighter-rouge">/cache-layer/user-profiles</code></li>
  <li><code class="language-plaintext highlighter-rouge">/legacy-system-adapter/update</code></li>
</ul>

<p>Users see all your internal plumbing and have to understand it!</p>

<p><strong>Good example - clean and simple:</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/users</code> (create a user)</li>
  <li><code class="language-plaintext highlighter-rouge">/users/123</code> (get user 123)</li>
  <li><code class="language-plaintext highlighter-rouge">/users/123</code> (update user 123)</li>
</ul>

<p>Users just see clean, simple operations.</p>

<div class="mermaid">
flowchart TB
    subgraph bad["‚ùå Showing Internal Mess"]
        direction TB
        B1["Call the database sync"]
        B2["Call the cache layer"]
        B3["Call the old system adapter"]
        Note1["Users see how it's built"]
    end
    
    subgraph good["‚úÖ Clean Interface"]
        direction TB
        G1["Create a user"]
        G2["Get a user"]
        G3["Update a user"]
        Note2["Users see what they can do"]
    end
    
    style bad fill:#fecaca,stroke:#dc2626
    style good fill:#d1fae5,stroke:#059669
</div>

<h3 id="the-solution-client-advocate">The Solution: Client Advocate</h3>

<p>Have someone whose job is to represent the users‚Äô perspective:</p>
<ul>
  <li>Reviews designs and asks ‚ÄúWhy do users need to know this?‚Äù</li>
  <li>Simplifies complicated processes</li>
  <li>Hides internal complexity</li>
  <li>Tests if it‚Äôs actually easy to use</li>
</ul>

<h3 id="real-life-example-4">Real-Life Example</h3>

<p><strong>Think about using an ATM:</strong></p>

<p>Bad design: Show users the complex backend‚Äî‚ÄùStep 1: Connect to database cluster #3. Step 2: Run fraud check algorithm. Step 3: Send request to Federal Reserve‚Ä¶‚Äù</p>

<p>Good design: Show users a simple screen‚Äî‚ÄùEnter PIN ‚Üí Choose Amount ‚Üí Take Cash‚Äù</p>

<p>Users don‚Äôt need to know about all the complex stuff happening behind the scenes!</p>

<hr />

<h2 id="strategy-6-build-systems-that-last-and-grow">Strategy 6: Build Systems That Last and Grow</h2>

<h3 id="the-problem-with-constant-breaking-changes">The Problem with Constant Breaking Changes</h3>

<p>Bad approach: Every year, force everyone to update:</p>
<ul>
  <li>2020: Version 1.0 works</li>
  <li>2021: Version 2.0 - Version 1.0 stops working!</li>
  <li>2022: Version 3.0 - Version 2.0 stops working!</li>
  <li>Everyone constantly has to update their code</li>
</ul>

<div class="mermaid">
flowchart TD
    subgraph bad["‚ùå Constant Breaking Changes"]
        direction TB
        V1["Version 1.0 (2020)"]
        V2["Version 2.0 (2021)"]
        V3["Version 3.0 (2022)"]
        V4["Version 4.0 (2023)"]
        Note1["Everyone must constantly update"]
    end
    
    subgraph good["‚úÖ Grow Without Breaking"]
        direction TB
        Base["Version 1.0 (2020)"]
        Add1["Add new features (2021)"]
        Add2["Add more features (2022)"]
        Add3["Add more features (2023)"]
        Note2["Old stuff keeps working"]
    end
    
    style bad fill:#fecaca,stroke:#dc2626
    style good fill:#d1fae5,stroke:#059669
</div>

<h3 id="the-better-way-add-dont-break">The Better Way: Add, Don‚Äôt Break</h3>

<p>Instead of changing existing things, just add new optional things:</p>

<p><strong>Example:</strong></p>

<p>Version 1.0 (2020):</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User information:
- ID number
- Name
- Email
</code></pre></div></div>

<p>Version 1.0 (2021) - Added features, didn‚Äôt break anything:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User information:
- ID number (still works!)
- Name (still works!)
- Email (still works!)
- Profile picture (NEW! Optional!)
- Theme preference (NEW! Optional!)
</code></pre></div></div>

<p>Old systems that only know about ID, Name, and Email? <strong>They still work perfectly!</strong></p>

<p>New systems can use the new features if they want.</p>

<h3 id="when-do-you-need-a-new-version">When DO You Need a New Version?</h3>

<p>Only make a breaking change when absolutely necessary:</p>
<ul>
  <li>Complete redesign of the entire system</li>
  <li>Removing something that nobody uses anymore</li>
  <li>Switching to a completely different technology</li>
</ul>

<h3 id="real-life-example-5">Real-Life Example</h3>

<p><strong>Think about phone updates:</strong></p>

<p>Good approach (like iOS): Apps built for iOS 12 still work on iOS 17, but new apps can use iOS 17 features.</p>

<p>Bad approach: Every year, forcing everyone to rewrite their apps from scratch.</p>

<hr />

<h2 id="strategy-7-make-things-flow-naturally">Strategy 7: Make Things Flow Naturally</h2>

<h3 id="part-a-use-clear-simple-names">Part A: Use Clear, Simple Names</h3>

<p>Use names that describe what things are (nouns), not what they do (verbs).</p>

<p><strong>Bad names (confusing):</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/createUser</code></li>
  <li><code class="language-plaintext highlighter-rouge">/getUserData</code></li>
  <li><code class="language-plaintext highlighter-rouge">/updateUserEmail</code></li>
  <li><code class="language-plaintext highlighter-rouge">/deleteUser</code></li>
</ul>

<p><strong>Good names (clear):</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/users</code> (to create a user)</li>
  <li><code class="language-plaintext highlighter-rouge">/users/123</code> (to get user 123)</li>
  <li><code class="language-plaintext highlighter-rouge">/users/123</code> (to update user 123)</li>
  <li><code class="language-plaintext highlighter-rouge">/users/123</code> (to delete user 123)</li>
</ul>

<p>Clear naming pattern: <code class="language-plaintext highlighter-rouge">/users</code> for the collection, <code class="language-plaintext highlighter-rouge">/users/123</code> for one specific user.</p>

<div class="mermaid">
flowchart LR
    subgraph bad["‚ùå Confusing Names"]
        direction TB
        A1["createUser"]
        A2["getUserData"]
        A3["updateUserEmail"]
        A4["deleteUser"]
    end
    
    subgraph good["‚úÖ Clear Names"]
        direction TB
        R1["/users"]
        R2["/users/123"]
        R3["/users/123"]
        R4["/users/123"]
    end
    
    style bad fill:#fecaca,stroke:#dc2626
    style good fill:#d1fae5,stroke:#059669
</div>

<h3 id="part-b-design-for-complete-actions">Part B: Design for Complete Actions</h3>

<p>People don‚Äôt want to make 10 separate calls. They want to complete one task.</p>

<p><strong>Example: Buying something online</strong></p>

<p>Bad design (10 separate steps):</p>
<ol>
  <li>Get shopping cart</li>
  <li>Check shipping options</li>
  <li>Calculate tax</li>
  <li>Validate payment method</li>
  <li>Apply coupon code</li>
  <li>Reserve inventory</li>
  <li>Process payment</li>
  <li>Create order</li>
  <li>Send confirmation email</li>
  <li>Get order details</li>
</ol>

<p>Takes forever! 10 separate operations!</p>

<p><strong>Good design (one complete action):</strong>
Send everything at once: Shopping cart, shipping choice, payment info, coupon</p>

<p>Get everything back at once: Order confirmation, tracking number, email sent</p>

<p>One operation, much faster!</p>

<h3 id="real-life-example-6">Real-Life Example</h3>

<p><strong>Think about ordering coffee:</strong></p>

<p>Bad way: ‚ÄúCan I have a cup?‚Äù Wait for answer. ‚ÄúCan you put coffee in it?‚Äù Wait. ‚ÄúCan you add milk?‚Äù Wait. ‚ÄúCan you heat it?‚Äù Wait.</p>

<p>Good way: ‚ÄúOne hot latte, please.‚Äù</p>

<p>Design your systems to let people express complete intentions, not tiny atomic steps.</p>

<hr />

<h2 id="strategy-8-find-the-right-size">Strategy 8: Find the Right Size</h2>

<h3 id="the-problem-too-small-or-too-big">The Problem: Too Small or Too Big</h3>

<p><strong>Too small (too many calls):</strong>
To get one user‚Äôs information:</p>
<ul>
  <li>Call <code class="language-plaintext highlighter-rouge">/user</code> to get basic info</li>
  <li>Call <code class="language-plaintext highlighter-rouge">/user/profile</code> to get profile</li>
  <li>Call <code class="language-plaintext highlighter-rouge">/user/preferences</code> to get settings</li>
  <li>Call <code class="language-plaintext highlighter-rouge">/user/permissions</code> to get access rights</li>
  <li>5 separate calls for one user!</li>
</ul>

<p><strong>Too big (too much data):</strong>
One call to <code class="language-plaintext highlighter-rouge">/user-complete</code> returns:</p>
<ul>
  <li>50 fields of data</li>
  <li>Tons of stuff you don‚Äôt need</li>
  <li>Takes forever to send</li>
  <li>Wastes bandwidth</li>
</ul>

<div class="mermaid">
flowchart LR
    subgraph small["‚ùå Too Small"]
        direction TB
        S1["Call 1: Basic info"]
        S2["Call 2: Profile"]
        S3["Call 3: Settings"]
        S4["Call 4: Permissions"]
        S5["Call 5: History"]
        Note1["Too many calls"]
    end
    
    subgraph large["‚ùå Too Big"]
        direction TB
        L1["One huge call"]
        L2["Returns 50 fields"]
        L3["Most data unused"]
        L4["Very slow"]
        Note2["Wasteful"]
    end
    
    subgraph right["‚úÖ Just Right"]
        direction TB
        R1["Get user: Common info"]
        R2["Optional: Add more if needed"]
        Note3["Flexible and efficient"]
    end
    
    style small fill:#fecaca,stroke:#dc2626
    style large fill:#fecaca,stroke:#dc2626
    style right fill:#d1fae5,stroke:#059669
</div>

<h3 id="the-right-balance">The Right Balance</h3>

<p><strong>Default: Give what most people need</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Get user 123:
Returns:
- ID
- Name
- Email
- Account status
</code></pre></div></div>

<p><strong>Optional: Let people ask for more if they want</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Get user 123 with extra information:
Returns everything above, PLUS:
- Full profile
- Settings
- Order history
(Only if requested!)
</code></pre></div></div>

<h3 id="real-life-example-7">Real-Life Example</h3>

<p><strong>Think about buying a computer:</strong></p>

<p>Too small: Buying individual transistors and assembling from scratch (way too much work!)</p>

<p>Too big: Everything permanently welded together - can‚Äôt upgrade or fix anything (inflexible!)</p>

<p>Just right: Logical components (CPU, RAM, storage) that work together but can be upgraded independently.</p>

<hr />

<h2 id="strategy-9-automate-quality-checks">Strategy 9: Automate Quality Checks</h2>

<h3 id="the-old-way-manual-reviews">The Old Way: Manual Reviews</h3>

<p>Old approach:</p>
<ol>
  <li>Team creates a design</li>
  <li>Wait for meeting with architecture team</li>
  <li>Get feedback 2 weeks later</li>
  <li>Make changes</li>
  <li>Wait for another meeting‚Ä¶</li>
</ol>

<p><strong>Problems:</strong></p>
<ul>
  <li>Takes forever</li>
  <li>Inconsistent (depends on who reviews)</li>
  <li>Doesn‚Äôt scale (need more reviewers as company grows)</li>
  <li>Expensive (uses senior people‚Äôs time for routine checks)</li>
</ul>

<div class="mermaid">
flowchart TD
    subgraph manual["‚ùå Manual Reviews"]
        direction TB
        M1["Submit design"]
        M2["Wait for meeting"]
        M3["Get feedback 2 weeks later"]
        M4["Make changes"]
        M5["Wait for another meeting..."]
        Note1["Slow and inconsistent"]
    end
    
    subgraph auto["‚úÖ Automated Checks"]
        direction TB
        A1["Submit design"]
        A2["Instant automated checks"]
        A3["Immediate feedback"]
        A4["Auto-approved if good"]
        A5["Human only checks special cases"]
        Note2["Fast and consistent"]
    end
    
    style manual fill:#fecaca,stroke:#dc2626
    style auto fill:#d1fae5,stroke:#059669
</div>

<h3 id="the-better-way-automated-checks">The Better Way: Automated Checks</h3>

<p>Set up automated systems that check for common issues instantly:</p>

<p><strong>What can be automated:</strong></p>
<ul>
  <li>Naming conventions (are names clear and consistent?)</li>
  <li>Security basics (is authentication required?)</li>
  <li>Size limits (are responses too large?)</li>
  <li>Breaking changes (did you break existing features?)</li>
  <li>Documentation (is everything explained?)</li>
</ul>

<p><strong>When it runs:</strong></p>
<ol>
  <li>Developer submits design</li>
  <li>Automated checks run instantly (seconds)</li>
  <li>If all checks pass ‚Üí Auto-approved!</li>
  <li>If minor issues ‚Üí Warnings shown</li>
  <li>If major issues ‚Üí Must fix before proceeding</li>
</ol>

<p><strong>Benefits:</strong></p>

<table>
  <thead>
    <tr>
      <th>Aspect</th>
      <th>Manual</th>
      <th>Automated</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Speed</strong></td>
      <td>Days or weeks</td>
      <td>Seconds</td>
    </tr>
    <tr>
      <td><strong>Consistency</strong></td>
      <td>Varies by person</td>
      <td>Always the same</td>
    </tr>
    <tr>
      <td><strong>Scalability</strong></td>
      <td>Need more reviewers</td>
      <td>Infinite capacity</td>
    </tr>
    <tr>
      <td><strong>Cost</strong></td>
      <td>Expensive (senior time)</td>
      <td>Cheap (computer time)</td>
    </tr>
  </tbody>
</table>

<h3 id="real-life-example-8">Real-Life Example</h3>

<p><strong>Think about car manufacturing:</strong></p>

<p>Old way: Inspect every single part by hand. Slow, inconsistent, expensive.</p>

<p>New way: Automated sensors and tests catch 95% of issues instantly. Humans only check special cases.</p>

<hr />

<h2 id="strategy-10-teach-and-build-champions">Strategy 10: Teach and Build Champions</h2>

<h3 id="the-challenge-1">The Challenge</h3>

<p>Even with great tools and processes, you need people to actually use them. That requires changing culture.</p>

<h3 id="four-ways-to-build-culture">Four Ways to Build Culture</h3>

<p><strong>1. Education Programs</strong></p>

<p>Make learning easy and accessible:</p>
<ul>
  <li>Monthly workshops on best practices</li>
  <li>Lunch-and-learn sessions</li>
  <li>Training videos</li>
  <li>Style guides and examples</li>
  <li>Decision-making guides</li>
</ul>

<p><strong>2. Champions Program</strong></p>

<p>Find enthusiastic people in each team:</p>
<ul>
  <li>They learn best practices first</li>
  <li>They teach their teammates</li>
  <li>They provide local support and advice</li>
  <li>They share feedback with central team</li>
  <li>They adapt global patterns to local needs</li>
</ul>

<div class="mermaid">
flowchart LR
    Central["üè¢ Central Team"] --&gt;|Train &amp; Support| C1["üåü Champion Team A"]
    Central --&gt; C2["üåü Champion Team B"]
    Central --&gt; C3["üåü Champion Team C"]
    
    C1 --&gt;|Teach Locally| D1["üë• Team Members"]
    C2 --&gt;|Teach Locally| D2["üë• Team Members"]
    C3 --&gt;|Teach Locally| D3["üë• Team Members"]
    
    style Central fill:#dbeafe,stroke:#2563eb
    style C1 fill:#fef3c7,stroke:#d97706
    style C2 fill:#fef3c7,stroke:#d97706
    style C3 fill:#fef3c7,stroke:#d97706
</div>

<p><strong>3. Success Stories</strong></p>

<p>Share wins to inspire others:</p>
<ul>
  <li>‚ÄúHow Team X reduced their calls by 70%‚Äù</li>
  <li>‚ÄúTeam Y‚Äôs smooth migration - lessons learned‚Äù</li>
  <li>‚ÄúHow Team Z deployed with zero downtime‚Äù</li>
</ul>

<p>Show metrics:</p>
<ul>
  <li>Fewer problems reported</li>
  <li>Happier developers</li>
  <li>Faster time to launch</li>
  <li>Better system performance</li>
</ul>

<p><strong>4. Make It Easy to Do the Right Thing</strong></p>

<p>Provide tools and templates:</p>
<ul>
  <li>Starter templates (quick start with best practices)</li>
  <li>Automated code generators (less manual work)</li>
  <li>Fake test systems (test before building)</li>
  <li>Interactive documentation (learn by trying)</li>
  <li>Checking tools (verify your work)</li>
</ul>

<h3 id="real-life-example-9">Real-Life Example</h3>

<p><strong>Think about teaching healthy eating:</strong></p>

<p>Bad way: Just hand out nutrition guidelines and hope people follow them.</p>

<p>Good way:</p>
<ul>
  <li>Offer cooking classes (education)</li>
  <li>Share success stories of people who got healthier (inspiration)</li>
  <li>Make healthy food easily available (remove barriers)</li>
  <li>Build a supportive community (champions help each other)</li>
</ul>

<hr />

<h2 id="putting-it-all-together">Putting It All Together</h2>

<p>All 10 strategies work together:</p>

<div class="mermaid">
flowchart TB
    subgraph strategy["üéØ High-Level Strategy"]
        S1["Manage APIs as portfolio"]
        S2["Design for customers"]
        S3["Serve business &amp; technical audiences"]
    end
    
    subgraph design["‚úèÔ∏è Design Principles"]
        D1["Design before building"]
        D2["Keep complexity hidden"]
        D3["Build for longevity"]
        D4["Make things flow naturally"]
        D5["Find the right size"]
    end
    
    subgraph implementation["‚öôÔ∏è Implementation"]
        I1["Automate quality checks"]
        I2["Provide self-service tools"]
    end
    
    subgraph culture["üë• Culture"]
        C1["Education"]
        C2["Champions"]
        C3["Success stories"]
    end
    
    strategy --&gt; design
    design --&gt; implementation
    implementation --&gt; culture
    culture --&gt;|Feedback| strategy
    
    style strategy fill:#dbeafe,stroke:#2563eb
    style design fill:#d1fae5,stroke:#059669
    style implementation fill:#fef3c7,stroke:#d97706
    style culture fill:#fce7f3,stroke:#db2777
</div>

<hr />

<h2 id="your-roadmap-where-to-start">Your Roadmap: Where to Start</h2>

<h3 id="phase-1-foundation-months-1-3">Phase 1: Foundation (Months 1-3)</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />List all your current systems</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Create a style guide (how things should be named and organized)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Start designing before building for new projects</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Set up basic automated checks</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Decide on versioning approach</li>
</ul>

<h3 id="phase-2-process-months-4-6">Phase 2: Process (Months 4-6)</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Use design-first for all new systems</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Create a design review process</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Set up fake test systems</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Assign someone to represent users</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Define how systems move from new to old to retired</li>
</ul>

<h3 id="phase-3-scale-months-7-9">Phase 3: Scale (Months 7-9)</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Build a central place to find all systems</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Create templates for common patterns</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Launch training program</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Identify and train champions</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Implement portfolio management</li>
</ul>

<h3 id="phase-4-optimize-ongoing">Phase 4: Optimize (Ongoing)</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Measure if things are getting better</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Gather feedback from teams</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Improve based on pain points</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Share success stories</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Keep improving</li>
</ul>

<hr />

<h2 id="how-mature-are-you">How Mature Are You?</h2>

<div class="mermaid">
flowchart LR
    L1["Level 1:<br />Chaotic"] --&gt; L2["Level 2:<br />Documented"]
    L2 --&gt; L3["Level 3:<br />Standardized"]
    L3 --&gt; L4["Level 4:<br />Automated"]
    L4 --&gt; L5["Level 5:<br />Optimizing"]
    
    style L1 fill:#fecaca,stroke:#dc2626
    style L2 fill:#fef3c7,stroke:#d97706
    style L3 fill:#fef3c7,stroke:#d97706
    style L4 fill:#d1fae5,stroke:#059669
    style L5 fill:#d1fae5,stroke:#059669
</div>

<table>
  <thead>
    <tr>
      <th>Level</th>
      <th>What It Looks Like</th>
      <th>What to Focus On</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>1. Chaotic</strong></td>
      <td>Each team does whatever they want; nothing is standard</td>
      <td>Start writing things down</td>
    </tr>
    <tr>
      <td><strong>2. Documented</strong></td>
      <td>Basic documentation exists; you have a style guide</td>
      <td>Create processes</td>
    </tr>
    <tr>
      <td><strong>3. Standardized</strong></td>
      <td>Teams follow standards; design comes before building</td>
      <td>Scale with people and training</td>
    </tr>
    <tr>
      <td><strong>4. Automated</strong></td>
      <td>Automated checks; self-service tools; fast feedback</td>
      <td>Scale with automation</td>
    </tr>
    <tr>
      <td><strong>5. Optimizing</strong></td>
      <td>Continuous improvement; data-driven decisions</td>
      <td>Keep refining</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="common-mistakes-to-avoid">Common Mistakes to Avoid</h2>

<h3 id="-mistake-1-reviews-become-bottlenecks">‚ùå Mistake 1: Reviews Become Bottlenecks</h3>
<p><strong>Problem</strong>: Every design needs approval from a committee. Takes 2 weeks. Work piles up.
<strong>Solution</strong>: Automate 80% of checks. Humans only review special cases.</p>

<h3 id="-mistake-2-over-complicating-the-design-process">‚ùå Mistake 2: Over-Complicating the Design Process</h3>
<p><strong>Problem</strong>: Design phase involves too many people and takes forever.
<strong>Solution</strong>: Set a time limit (1-2 weeks max). Improve based on real use.</p>

<h3 id="-mistake-3-ignoring-old-systems">‚ùå Mistake 3: Ignoring Old Systems</h3>
<p><strong>Problem</strong>: Focus only on new systems. Old systems create messy experiences.
<strong>Solution</strong>: Make a plan to update or retire old systems.</p>

<h3 id="-mistake-4-forcing-changes-without-buy-in">‚ùå Mistake 4: Forcing Changes Without Buy-In</h3>
<p><strong>Problem</strong>: Central team orders changes. Teams resist and find workarounds.
<strong>Solution</strong>: Involve teams early. Use champions. Show value first.</p>

<h3 id="-mistake-5-treating-everything-the-same">‚ùå Mistake 5: Treating Everything the Same</h3>
<p><strong>Problem</strong>: Apply heavy process to everything, even small internal tools.
<strong>Solution</strong>: Risk-based approach - more oversight for critical systems, lighter touch for simple ones.</p>

<hr />

<h2 id="key-takeaways">Key Takeaways</h2>

<ol>
  <li>
    <p><strong>Think Strategically</strong>: Manage all your systems as a portfolio, not isolated projects. Avoid duplication, focus on important ones, plan for retirement.</p>
  </li>
  <li>
    <p><strong>Design for Users</strong>: Build what customers need, not what matches your org chart.</p>
  </li>
  <li>
    <p><strong>Serve Both Audiences</strong>: Business people and technical people need different information about the same systems.</p>
  </li>
  <li>
    <p><strong>Design First</strong>: Plan and get feedback before building. Much cheaper to change a plan than rebuild.</p>
  </li>
  <li>
    <p><strong>Hide Complexity</strong>: Don‚Äôt make users understand your internal mess. Show them simple, clean operations.</p>
  </li>
  <li>
    <p><strong>Build to Last</strong>: Add new features without breaking old ones. Only make breaking changes when absolutely necessary.</p>
  </li>
  <li>
    <p><strong>Think in Complete Actions</strong>: Let users accomplish complete tasks, not force them through 10 tiny steps.</p>
  </li>
  <li>
    <p><strong>Find the Right Balance</strong>: Not too many calls (annoying) and not one giant call (wasteful). Just right!</p>
  </li>
  <li>
    <p><strong>Automate Quality</strong>: Manual reviews don‚Äôt scale. Automate routine checks, humans handle special cases.</p>
  </li>
  <li>
    <p><strong>Build Culture</strong>: Invest in training, find champions, share wins, and make good practices easy.</p>
  </li>
</ol>

<hr />

<h2 id="real-success-stories">Real Success Stories</h2>

<h3 id="amazon-everything-is-an-api">Amazon: Everything is an API</h3>
<ul>
  <li>Every team provides clean interfaces to their systems</li>
  <li>Teams can work independently</li>
  <li>Result: Built AWS - one of the biggest cloud platforms</li>
</ul>

<h3 id="stripe-make-developers-happy">Stripe: Make Developers Happy</h3>
<ul>
  <li>Obsessively focus on user experience</li>
  <li>Best documentation in the industry</li>
  <li>Never break existing integrations</li>
  <li>Result: Developers love using Stripe</li>
</ul>

<h3 id="paypal-strategic-portfolio">PayPal: Strategic Portfolio</h3>
<ul>
  <li>Hundreds of systems managed strategically</li>
  <li>Design before building</li>
  <li>Central marketplace to discover systems</li>
  <li>Result: Faster development, less duplication</li>
</ul>

<h3 id="netflix-automated-everything">Netflix: Automated Everything</h3>
<ul>
  <li>Automated quality checks</li>
  <li>Self-service tools for teams</li>
  <li>Strong training culture</li>
  <li>Result: Fast innovation with consistency</li>
</ul>

<hr />

<h2 id="summary">Summary</h2>

<p>Growing from a small company to a large one isn‚Äôt just about handling more users (that was Part 1). It‚Äôs about organizing hundreds of people so they can work together effectively without stepping on each other‚Äôs toes.</p>

<p>The 10 strategies in this guide help you:</p>
<ul>
  <li>Keep things organized (portfolio management)</li>
  <li>Focus on what matters to users (customer-centric design)</li>
  <li>Let teams work independently while staying consistent (standards + autonomy)</li>
  <li>Build for the long term (extensibility, not breaking changes)</li>
  <li>Scale your processes (automation, champions, education)</li>
</ul>

<p><strong>Remember the pattern:</strong></p>
<ol>
  <li>Start with strategy (portfolio thinking, customer focus)</li>
  <li>Apply design principles (design-first, hide complexity, right-size)</li>
  <li>Automate what you can (quality checks, tools)</li>
  <li>Build culture (education, champions, success stories)</li>
</ol>

<p>Whether you‚Äôre managing 10 systems or 1,000, these patterns will help you grow smoothly and sustainably.</p>

<hr />

<h2 id="continue-learning">Continue Learning</h2>

<ul>
  <li><strong><a href="/handbook/handbook/_topics/scaling-api-1-to-1-million-rps/">‚Üê Back to Part 1: Performance &amp; Infrastructure</a></strong> - Learn about handling more traffic and users</li>
  <li><strong>Related Topics</strong>:
    <ul>
      <li>Breaking big systems into smaller pieces</li>
      <li>Security best practices</li>
      <li>Different types of system designs</li>
    </ul>
  </li>
</ul>

<p><strong>Questions?</strong> These strategies work at companies like PayPal, Amazon, and Netflix, but every company is unique. Adapt them to your situation.</p>

<p>Good luck building great systems! üöÄ</p>

  </section>

  
  <footer class="topic-footer">
    <p>Tags: <span class="tag">scaling</span>, <span class="tag">api-design</span>, <span class="tag">architecture</span>, <span class="tag">organization</span>, <span class="tag">microservices</span></p>
  </footer>
  
</article>
    </main>

    <footer class="site-footer">
      <div class="container">
        <div class="footer-content">
          <p class="footer-author">Created by <strong>Rilov Paloly Kulankara</strong></p>
          <div class="footer-links">
            <a href="https://www.linkedin.com/in/rilov/" target="_blank" rel="noopener">LinkedIn</a>
            <span class="footer-divider">¬∑</span>
            <a href="https://github.com/rilov" target="_blank" rel="noopener">GitHub</a>
            <span class="footer-divider">¬∑</span>
            <a href="/handbook/about">About</a>
          </div>
          <p class="footer-copyright">&copy; 2025 Handbook</p>
        </div>
      </div>
    </footer>
    <script src="/handbook/assets/js/filter.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
      mermaid.initialize({ 
        startOnLoad: true,
        theme: 'base',
        themeVariables: {
          primaryColor: '#e0e7ff',
          primaryTextColor: '#1e293b',
          primaryBorderColor: '#2563eb',
          lineColor: '#64748b',
          secondaryColor: '#f1f5f9',
          tertiaryColor: '#fff'
        }
      });
    </script>
  </body>
</html>
